{"version":3,"sources":["components/Filter.js","components/AddNewPerson.js","components/Numbers.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","_ref","header","newFilter","handleFilterChange","React","createElement","Fragment","role","aria-label","value","onChange","AddNewPerson","addName","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Numbers","filteredPersons","personDelete","map","person","key","id","name","number","onClick","Notification","message","style","baseNotificationStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","className","baseUrl","services_persons","axios","get","then","response","data","catch","error","newObject","post","console","log","put","concat","delete","App","_useState","useState","_useState2","_slicedToArray","persons","setPersons","_useState3","_useState4","notificationMessage","setNotificationMessage","_useState5","_useState6","notificationStyle","setnotificationStyle","_useState7","_useState8","setNewName","_useState9","_useState10","setNewNumber","_useState11","_useState12","setNewFilter","_useState13","_useState14","useFilter","setUseFilter","useEffect","personsService","showNotification","resetForm","setTimeout","filter","includes","event","target","personsObj","preventDefault","nameObj","checkForDuplicate","find","lookForObj","window","confirm","item","allPersons","ReactDOM","createRoot","document","getElementById","render"],"mappings":"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","file":"static/js/main.21cc7c8e.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ header, newFilter, handleFilterChange }) => {\r\n    return (\r\n        <>\r\n            <h3>{header}</h3>\r\n            <div><span role=\"img\" aria-label='enter filter'>ğŸ”</span><input value={newFilter} onChange={handleFilterChange} /></div>\r\n        </>\r\n    )\r\n}\r\nexport default Filter","import React from 'react'\r\n\r\nconst AddNewPerson = ({ header, addName, newName, handleNameChange, newNumber, handleNumberChange }) => {\r\n    return (\r\n        <>\r\n            <h3>{header}</h3>\r\n            <form onSubmit={addName}>\r\n                <div>\r\n                    <span role=\"img\" aria-label='person emoji'>ğŸ§‘</span> name: <input\r\n                        value={newName}\r\n                        onChange={handleNameChange} />\r\n                </div>\r\n                <div><span role=\"img\" aria-label='phone emoji'>ğŸ“</span> number: <input\r\n                    value={newNumber}\r\n                    onChange={handleNumberChange} /></div>\r\n                <div>\r\n                    <button type=\"submit\"><span role=\"img\" aria-label='plus emoji'>â•</span> add</button>\r\n                </div>\r\n            </form>\r\n        </>\r\n    )\r\n}\r\nexport default AddNewPerson","import React from 'react'\r\n\r\nconst Numbers = ({ filteredPersons, personDelete }) => {\r\n    return (\r\n        <>\r\n            <h2>Numbers</h2>\r\n            {filteredPersons.map(person =>\r\n                <p key={person.id}>\r\n                    <span role=\"img\" aria-label='person emoji'>ğŸ§‘</span> {person.name}\r\n                    {\" \"}\r\n                    <span role=\"img\" aria-label='phone emoji'>ğŸ“</span> {person.number}\r\n                    {\" \"}\r\n                    <button onClick={() => personDelete(person)}><span role=\"img\" aria-label='thrash can emoji for deleting'>ğŸ—‘ï¸</span></button></p >)\r\n            }\r\n        </>\r\n    )\r\n}\r\nexport default Numbers","import React from 'react'\r\n\r\nconst Notification = ({ message, style }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n    const baseNotificationStyle = {\r\n        color: style ? style : \"black\",\r\n        background: 'lightgrey',\r\n        fontSize: '20px',\r\n        borderStyle: 'solid',\r\n        borderRadius: '5px',\r\n        padding: '10px',\r\n        marginBottom: '10px}'\r\n    }\r\n    return (\r\n        <div style={baseNotificationStyle} className=\"error\">\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\nexport default Notification","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n//const baseUrl = 'https://withered-frost-8811.fly.dev/api/persons'\r\n\r\n\r\nconst getAll = () => {\r\n  const req = axios.get(baseUrl)\r\n  return req.then(response => response.data)\r\n    .catch(error => { return { error: \"get\" } })\r\n}\r\n\r\nconst create = newObject => {\r\n  const req = axios.post(baseUrl, newObject)\r\n  return req.then(response => response.data).catch(error => {\r\n    console.log(\"persons.create.error\", error)\r\n    throw error\r\n  })\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const req = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return req.then(response => {\r\n    console.log(\"put return response\", response)\r\n    return response.data\r\n  }).catch(error => {\r\n    console.log(\"put return error\", error)\r\n    return { error: \"update\" }\r\n  })\r\n}\r\n\r\nconst remove = (id) => {\r\n  const req = axios.delete(`${baseUrl}/${id}`) -\r\n    console.log(\"remove init\")\r\n  return req.then(response => {\r\n    console.log(\"remove\", response)\r\n    return []\r\n  }\r\n  ).catch(error => { return { error: `remove ${error}` } })\r\n}\r\n\r\nexport default {\r\n  getAll: getAll,\r\n  create: create,\r\n  update: update,\r\n  remove: remove,\r\n}","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport AddNewPerson from './components/AddNewPerson'\nimport Numbers from './components/Numbers'\nimport Notification from './components/Notification'\nimport personsService from './services/persons'\n\n\nconst App = () => {\n  //const [persons, setPersons] = useState([])\n\n  const [persons, setPersons] = useState([])\n  const [notificationMessage, setNotificationMessage] = useState(null)\n  const [notificationStyle, setnotificationStyle] = useState(null)\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [useFilter, setUseFilter] = useState(false)\n\n  //console.log(\"persons\", persons)\n\n  useEffect(() => {\n    //console.log('effect')\n    personsService\n      .getAll()\n      .then(response => {\n        //console.log('promise fulfilled', response.data)\n        setPersons(response)\n      }).catch(error => {\n        showNotification(\"general error\", \"red\")\n        console.log(\"error getall\", error)\n      })\n  }, [])\n\n\n  const resetForm = () => {\n    setNewNumber('')\n    setNewName('')\n  }\n\n  const showNotification = (message, style) => {\n    setnotificationStyle(style)\n    setNotificationMessage(\n      message\n    )\n    setTimeout(() => {\n      setNotificationMessage(null)\n    }, 2000)\n  }\n\n\n  const addName = (event) => {\n    //console.log(\"addName\", event)\n    const personsObj = persons\n    event.preventDefault()\n\n    const nameObj = {\n      name: newName,\n      number: newNumber,\n    }\n    const checkForDuplicate = personsObj.find(lookForObj => lookForObj.name === newName)\n    console.log(\"checkforDup\", checkForDuplicate)\n\n    if (checkForDuplicate) {\n      if (window.confirm(`Found matey ${checkForDuplicate.name} want to replace numbeRRr ${checkForDuplicate.number} with ${newNumber} instead, yarr ğŸ¦œ ?`)) {\n        checkForDuplicate.number = newNumber\n        personsService\n          .update(checkForDuplicate.id, nameObj)\n          .then(response => {\n            console.log(\"put response\", response)\n            resetForm()\n            if ('error' in response) {\n              showNotification(`Error: server and client missmatch: ${checkForDuplicate.name} has been deleted`, \"red\")\n              setPersons(personsObj.filter(item => item !== checkForDuplicate))\n            } else {\n              showNotification(`The numberrRR of ${checkForDuplicate.name} was changed to ${newNumber}`, \"green\")\n            }\n          })\n        return\n      }\n      else { return }\n    }\n\n    personsService\n      .create(nameObj)\n      .then(response => {\n        //console.log(\"post resp\", response)\n        resetForm()\n        setPersons(personsObj.concat(response))\n        showNotification(`${response.name} was added`, \"green\")\n      }).catch(error => {\n        console.log(\"app.error\", error)\n        console.log(\"app.error.response\", error.response)\n        showNotification(error.response.data.error, \"red\")\n      })\n  }\n\n  const handleNameChange = (event) => {\n    //console.log(\"handleNameChange\", event)\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    //console.log(\"handleNameChange\", event)\n    setNewNumber(event.target.value)\n  }\n  const handleFilterChange = (event) => {\n    //console.log(\"handleNameChange\", event)\n    setNewFilter(event.target.value)\n    if (event.target.value) {\n      setUseFilter(true)\n    } else {\n      setUseFilter(false)\n    }\n  }\n  const personDelete = (person) => {\n    //console.log(\"handleDelete\", person.id)\n    //console.log(\"handleDelete person\", person)\n    const allPersons = persons\n\n    if (window.confirm(`Do you really want to delete ${person.name}?`)) {\n      //console.log(\"person index\", allPersons.findIndex(n => n.id === person.id))\n      personsService\n        .remove(person.id)\n        .then(response => {\n          console.log(\"weird error\", response)\n          if ('error' in response) {\n            showNotification(`${person.name} has already been deleted`, \"red\")\n          } else { showNotification(`${person.name} deleted`, \"green\") }\n          //console.log(\"delete resp\", response)\n        })\n      setPersons(allPersons.filter(item => item !== person))\n    }\n  }\n\n\n  const filteredPersons = !useFilter ? persons : persons.filter(person => person.name.includes(newFilter))\n  //console.log(\"filteredPersons\", filteredPersons)\n\n\n  return (\n    <>\n      {/* <div>debug: {newFilter}</div> */}\n      <div>\n        <h2>Phonebook</h2>\n        <Notification message={notificationMessage} style={notificationStyle} />\n        <Filter header=\"Filter\"\n          newFilter={newFilter} handleFilterChange={handleFilterChange} />\n        <AddNewPerson\n          header=\"Add new person\"\n          addName={addName}\n          newName={newName}\n          handleNameChange={handleNameChange}\n          newNumber={newNumber}\n          handleNumberChange={handleNumberChange} />\n        <Numbers\n          filteredPersons={filteredPersons}\n          personDelete={personDelete} />\n      </div>\n    </>\n  )\n\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom/client'\nimport App from './App'\n\nReactDOM.createRoot(document.getElementById('root')).render(\n  <App />\n)"],"sourceRoot":""}